import{sendData}from"./api.js";import{Modal}from"./modal.js";const form=document.querySelector(".form"),pristine=new Pristine(form,{classTo:"field",errorClass:"field--error"});function resetForm(){form.reset(),pristine.reset()}if(form){const e=form.querySelectorAll(".field__input"),r=form.querySelector(".form__button"),o=new Modal(".modal--form-validate-error"),t=new Modal(".modal--form-send-error"),a=new Modal(".modal--form-success");form.addEventListener("submit",(d=>{d.preventDefault();pristine.validate(e)?(r.disabled=!0,sendData((()=>{a.openModal(),r.disabled=!1,resetForm()}),(()=>{t.openModal(),r.disabled=!1}),new FormData(d.target))):o.openModal()}))}