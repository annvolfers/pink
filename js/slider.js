const isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);class Slider{constructor(e){if(this.sliderElement=e.querySelector(".slider__list"),this.sliderElement)if(this.sliderButtonPrev=e.querySelector(".slider__button-prev"),this.sliderButtonNext=e.querySelector(".slider__button-next"),this.sliderTogglers=e.querySelectorAll(".togglers .togglers__control"),this.slidesNumber=this.sliderTogglers.length,this.step=Number((100/this.slidesNumber).toFixed(2)),this.sliderElement.style.setProperty("--slides",`${this.slidesNumber}`),this.slidesNumber<2)this.setButtonsAvailability(!1);else{for(let e=0;e<this.sliderTogglers.length;e++)this.sliderTogglers[e].classList.contains("togglers__control--current")&&(this.activeSlide=e);this.setListeners()}}setListeners(){for(let e=0;e<this.sliderTogglers.length;e++)this.sliderTogglers[e].addEventListener("click",(()=>{this.setNewSlide(this.activeSlide,e)}));if(this.sliderButtonPrev&&this.sliderButtonPrev.addEventListener("click",this.setPreviousSlide.bind(this)),this.sliderButtonNext&&this.sliderButtonNext.addEventListener("click",this.setNextSlide.bind(this)),isMobile){let e,t;this.sliderElement.addEventListener("touchstart",(t=>{e=t.touches[0].clientX})),this.sliderElement.addEventListener("touchend",(i=>{t=i.changedTouches[0].clientX,t>e?this.setPreviousSlide():this.setNextSlide()}))}}setNewSlide(e,t){this.sliderElement.style.setProperty("--transform",`translateX(-${this.step*t}%)`),this.sliderTogglers[e].classList.remove("togglers__control--current"),this.sliderTogglers[t].classList.add("togglers__control--current"),this.activeSlide=t,this.setButtonsAvailability()}setPreviousSlide(){this.activeSlide>0&&this.setNewSlide(this.activeSlide,this.activeSlide-1)}setNextSlide(){this.activeSlide<this.slidesNumber-1&&this.setNewSlide(this.activeSlide,this.activeSlide+1)}setButtonsAvailability(e=!0){if(this.sliderButtonPrev&&this.sliderButtonNext){if(!e)return this.sliderButtonPrev.disabled=!0,void(this.sliderButtonNext.disabled=!0);switch(this.activeSlide){case 0:this.sliderButtonPrev.disabled=!0;break;case this.slidesNumber-1:this.sliderButtonNext.disabled=!0;break;default:this.sliderButtonPrev.disabled=!1,this.sliderButtonNext.disabled=!1}}}}export{Slider};