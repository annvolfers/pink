import{sendData}from"./api.js";import{Modal}from"./modal.js";const form=document.querySelector(".form");if(form){const e=new Pristine(form,{classTo:"field",errorClass:"field--error"}),o=form.querySelectorAll(".field__input"),r=form.querySelector(".form__button"),a=new Modal(".modal--form-validate-error"),d=new Modal(".modal--form-send-error"),l=new Modal(".modal--form-success");form.addEventListener("submit",(t=>{t.preventDefault();e.validate(o)?(r.disabled=!0,sendData((()=>{l.openModal(),r.disabled=!1,form.reset(),e.reset()}),(()=>{d.openModal(),r.disabled=!1}),new FormData(t.target))):a.openModal()}))}